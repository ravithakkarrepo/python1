{% extends 'base.html' %}
{% load static %}
{% block body %}
<a onclick="noBack()" href="{% url 'login' %}"></a>

        <div class="pcoded-content">
          <div class="page-header card">
            <div class="row align-items-end">
              <div class="col-lg-8">
                <div class="page-header-title">
                  <div class="d-inline">
                    <h5>{% if is_admin %}<a href="{% url 'product' %}"><i class="icofont icofont-simple-left"></i></a>{% else %}<a href="{% url 'product_' %}"><i class="icofont icofont-simple-left"></i></a>{% endif %} View Products</h5>
                  </div>
                </div>
              </div>
              <div class="col-lg-4">
                   
              </div>
            </div>
          </div>
          <div class="page-header card">
                 <div class="card">
                    <div class="card-block">
                           <div class="v-product-top">
                 <div class="row">
                  <div class="col-xl-6 col-lg-12 col-sm-12">
                     <div class="form-group row">
                      {% for p in product %}
                        <label class="col-sm-4 col-form-label">Merchant Name</label>
                        <div class="col-sm-8">
                           <h4>{% if is_admin %}{{ merchant_name }}{% else %}{{ name }}{% endif %}</h4>
                        </div>
                     </div>
                  </div>
                  <div class="col-xl-6 col-lg-12 col-sm-12">
                     <div class="form-group row">
                        <label class="col-sm-4 col-form-label">Product Name</label>
                        <div class="col-sm-8">
                           <h4>{{ p.product_name }}</h4>
                        </div>
                     </div>
                  </div>
                 </div>
                 <div class="row">
                  <div class="col-xl-6 col-lg-12 col-sm-12">
                     <div class="form-group row">
                        <label class="col-sm-4 col-form-label">Product  Description</label>
                        <div class="col-sm-8">
                           <p class="m-b-0">{{ p.description }}</p>
                        </div>
                     </div>
                  </div>
                  <div class="col-xl-6 col-lg-12 col-sm-12">
                     <div class="form-group row">
                        <label class="col-sm-4 col-form-label">Product Image</label>
                        <div class="col-sm-8 sheet-img">
                           <img src="{{ MEDIA_URL }}{{ p.image }}" alt="" id="sheet-img">
                        </div>
                     </div>
                  </div>
                 </div>
                 <hr>
                 <div class="page-header-title p-b-15">
                   <div class="d-inline">
                       <h5>Product Activation Details</h5>
                   </div>
                  </div>
                 <div class="row">
                  <div class="col-xl-6 col-lg-12 col-sm-12">
                     <div class="form-group row">
                        <label class="col-sm-4 col-form-label">A - Side Batch</label>
                        <div class="col-sm-8">
                           <h4>{{ p.a_side_batch }}</h4>
                        </div>
                     </div>
                  </div>
                  <div class="col-xl-6 col-lg-12 col-sm-12">
                     <div class="form-group row">
                        <label class="col-sm-4 col-form-label">B - Side set temp</label>
                        <div class="col-sm-8">
                           <h4>{{ p.b_side_set_temp }}</h4>
                        </div>
                     </div>
                  </div>
                 </div>
                             <div class="row">
                  <div class="col-xl-6 col-lg-12 col-sm-12">
                     <div class="form-group row">
                        <label class="col-sm-4 col-form-label">A - Side set temp</label>
                        <div class="col-sm-8">
                           <h4>{{ p.a_side_set_temp }}</h4>
                        </div>
                     </div>
                  </div>
                  <div class="col-xl-6 col-lg-12 col-sm-12">
                     <div class="form-group row">
                        <label class="col-sm-4 col-form-label">Hot set temp</label>
                        <div class="col-sm-8">
                           <h4>{{ p.hose_set_temp }}</h4>
                        </div>
                     </div>
                  </div>
                 </div>
                             <div class="row">
                  <div class="col-xl-6 col-lg-12 col-sm-12">
                     <div class="form-group row">
                        <label class="col-sm-4 col-form-label">Mixing Chamber Size</label>
                        <div class="col-sm-8">
                           <h4>{{ p.mixing_chamber_size }}</h4>
                        </div>
                     </div>
                  </div>
                  <div class="col-xl-6 col-lg-12 col-sm-12">
                     <div class="form-group row">
                        <label class="col-sm-4 col-form-label">Pressure set</label>
                        <div class="col-sm-8">
                           <h4>{{ p.pressure_set }}</h4>
                        </div>
                     </div>
                  </div>
                  <div class="col-xl-6 col-lg-12 col-sm-12">
                     <div class="form-group row">
                        <label class="col-sm-4 col-form-label">Starting Drum Temperature</label>
                        <div class="col-sm-8">
                           <h4>{{ p.start_drum_temp }}</h4>
                        </div>
                     </div>
                  </div>
                  <div class="col-xl-6 col-lg-12 col-sm-12">
                     <div class="form-group row">
                        <label class="col-sm-4 col-form-label">Machine Type</label>
                        <div class="col-sm-8">
                           <h4>{{ p.machine_type.machine_type }}</h4>
                        </div>
                     </div>
                  </div>
                  <div class="col-xl-6 col-lg-12 col-sm-12">
                     <div class="form-group row">
                        <label class="col-sm-4 col-form-label">Substrate Type</label>
                        <div class="col-sm-8">
                           <h4>{{ p.substrate_type.substrate_type }}</h4>
                        </div>
                     </div>
                  </div>
                  <div class="col-xl-6 col-lg-12 col-sm-12">
                     <div class="form-group row">
                        <label class="col-sm-4 col-form-label">Substrate Temp</label>
                        <div class="col-sm-8">
                           <h4>{{ p.substrate_temp }}</h4>
                        </div>
                     </div>
                  </div>
                  <div class="col-xl-6 col-lg-12 col-sm-12">
                     <div class="form-group row">
                        <label class="col-sm-4 col-form-label">Substrate Moisture</label>
                        <div class="col-sm-8">
                           <h4>{{ p.substrate_moisture }}</h4>
                        </div>
                     </div>
                  </div>
                  <div class="col-xl-6 col-lg-12 col-sm-12">
                     <div class="form-group row">
                        <label class="col-sm-4 col-form-label">Saftey Warning Signs Posted</label>
                        <div class="col-sm-8">
                           <h4>{{ p.saftey_warning_signs_posted }}</h4>
                        </div>
                     </div>
                  </div>
                  <div class="col-xl-6 col-lg-12 col-sm-12">
                     <div class="form-group row">
                        <label class="col-sm-4 col-form-label">Mechanical Ventilation Used</label>
                        <div class="col-sm-8">
                           <h4>{{ p.mechanical_ventilation_used }}</h4>
                        </div>
                     </div>
                  </div>
                  <div class="col-xl-6 col-lg-12 col-sm-12">
                     <div class="form-group row">
                        <label class="col-sm-4 col-form-label">Sprayer Using Fresh Air</label>
                        <div class="col-sm-8">
                           <h4>{{ p.sprayer_using_fresh_air }}</h4>
                        </div>
                     </div>
                  </div>
                  <div class="col-xl-6 col-lg-12 col-sm-12">
                     <div class="form-group row">
                        <label class="col-sm-4 col-form-label">Complete After Spraying</label>
                        <div class="col-sm-8">
                           <h4>{{ p.complete_after_spraying }}</h4>
                        </div>
                     </div>
                  </div>
                 </div>  
                         </div>
                    </div>
                 </div>
                 
                 <div class="page-header-title p-b-15">
            <div class="d-inline">
               <h5>Product Guidelines</h5>
            </div>
                 </div>
                 <div class="card">
                    <div class="card-block">
                         <!-- <div class="prod-guidelines-list clearfix">
                              <h2>Technical Datasheet</h2>
                              <ul>
                                {% for t,name in tech_combo %}
                                <li>
                                    <div class="box">
                                         <div class="icon">
                                         <a href="{{ MEDIA_URL }}{{ t }}" target="_blank">
                                              <i class="icofont icofont-file-pdf"></i>
                                         </a></div>
                                    </div>
                                    <div>{{ name }}</div>
                                </li>  
                                {% endfor %}
                              </ul>
                         </div>
                         <div class="prod-guidelines-list clearfix">
                              <h2>Application Guideline</h2>
                              <ul>
                                {% for ap,name in app_combo %}
                                <li>
                                    <div class="box">
                                         <div class="icon">
                                         <a href="{{ MEDIA_URL }}{{ ap }}" target="_blank">
                                              <i class="icofont icofont-file-pdf"></i>
                                          </a>
                                         </div>
                                    </div>
                                    <div>{{ name }}</div>

                                </li>  
                                {% endfor %}
                              </ul>
                         </div>
                        <div class="prod-guidelines-list video-guidelines-list clearfix">
                           <h2>Video</h2>
                           <ul>
                              {% for vi,name in video_combo %}
                              <li>
                                 <div class="box">
                                    <div class="icon">
                                       <a href="{{ MEDIA_URL }}{{ vi }}" target="_blank">
                                          <i class="icofont icofont-video"></i>
                                       </a>
                                    </div>
                                 </div>
                                 <div>{{ name }}</div>
                              </li>  
                              {% endfor %}
                           </ul>
                        </div>
                        <div class="prod-guidelines-list clearfix">
                           <h2>Safety Datasheet</h2>
                           <ul>
                              {% for s,name in safety_combo %}
                              <li>
                              <div class="box">
                                 <div class="icon">
                                    <a href="{{ MEDIA_URL }}{{ s }}" target="_blank">
                                       <i class="icofont icofont-file-pdf"></i>
                                    </a>
                                 </div>
                              </div>
                              <div>{{ name }}</div>
                              </li>  
                              {% endfor %}
                           </ul>
                        </div> -->
                        <div class="prod-guidelines-list clearfix ">
                           <h2>UPC Product Resources</h2>
                           <ul>
                              {% for c,cer_name in product_combo %}
                              <li>
                                 <div class="box">
                                    <div class="icon">
                                       <a href="{{ MEDIA_URL }}{{ c }}" target="_blank"></a>
                                    </div>
                                 </div>
                                 <div id="certificate_{{forloop.counter}}" class="certificate">{{ cer_name }}</div>
                              </li>  
                              {% endfor %}
                           </ul>
                        </div>
                        
                        <!-- <div class="prod-guidelines-list clearfix ">
                           <h2>Tech Tips</h2>
                           <ul>
                              {% for c,cer_name in tech_tips_combo %}
                              <li>
                                 <div class="box">
                                    <div class="icon">
                                       <a href="{{ MEDIA_URL }}{{ c }}" target="_blank"></a>
                                    </div>
                                 </div>
                                 <div id="industry_{{forloop.counter}}" class="industry">{{ cer_name }}</div>
                              </li>
                              {% endfor %}
                           </ul>
                        </div>

                        <div class="prod-guidelines-list clearfix ">
                           <h2>Safety Documents</h2>
                           <ul>
                              {% for c,cer_name in safety_combos %}
                              <li>
                                 <div class="box">
                                    <div class="icon">
                                       <a href="{{ MEDIA_URL }}{{ c }}" target="_blank"></a>
                                    </div>
                                 </div>
                                 <div id="safety_{{forloop.counter}}" class="safety">{{ cer_name }}</div>
                              </li>
                              {% endfor %}
                           </ul>
                        </div>

                        <div class="prod-guidelines-list clearfix ">
                           <h2>Building Science</h2>
                           <ul>
                              {% for c,cer_name in building_combo %}
                              <li>
                                 <div class="box">
                                    <div class="icon">
                                       <a href="{{ MEDIA_URL }}{{ c }}" target="_blank"></a>
                                    </div>
                                 </div>
                                 <div id="building_{{forloop.counter}}" class="building">{{ cer_name }}</div>
                              </li>
                              {% endfor %}
                           </ul>
                        </div> -->

                        <div class="prod-guidelines-list clearfix ">
                           <h2>Job Site Resources</h2>
                           <ul>
                              {% for c,cer_name in job_site_combo %}
                              <li>
                                 <div class="box">
                                    <div class="icon">
                                       <a href="{{ MEDIA_URL }}{{ c }}" target="_blank"></a>
                                    </div>
                                 </div>
                                 <div id="quality_{{forloop.counter}}" class="quality">{{ cer_name }}</div>
                              </li>
                              {% endfor %}
                           </ul>
                        </div>

                        <!-- <div class="prod-guidelines-list clearfix ">
                           <h2>Equipment Resources</h2>
                           <ul>
                              {% for c,cer_name in equipment_combo %}
                              <li>
                                 <div class="box">
                                    <div class="icon">
                                       <a href="{{ MEDIA_URL }}{{ c }}" target="_blank"></a>
                                    </div>
                                 </div>
                                 <div id="equipment_{{forloop.counter}}" class="equipment">{{ cer_name }}</div>
                              </li>
                              {% endfor %}
                           </ul>
                        </div> -->
                         
                    </div>
                 </div>
                 <div class="page-header-title p-b-15">
            <div class="d-inline">
               <h5>Product Rewards</h5>
            </div>
                 </div>
                 <div class="card">
                    <div class="card-block">
                         <div class="v-product-top">
                  <div class="row">
                  <div class="col-xl-6 col-lg-12 col-sm-12">
                     <div class="form-group row">
                        <label class="col-sm-4 col-form-label">QR Code Scan</label>
                        <div class="col-sm-8">
                           <h4>{{ p.initial_point }}</h4>
                        </div>
                     </div>
                  </div>
                  <div class="col-xl-6 col-lg-12 col-sm-12">
                     <div class="form-group row">
                        <label class="col-sm-4 col-form-label">A - Side Batch</label>
                        <div class="col-sm-8">
                           <h4>{{ p.a_side_batch_point }}</h4>
                        </div>
                     </div>
                  </div>
                 </div>
                            <div class="row">
                  <div class="col-xl-6 col-lg-12 col-sm-12">
                     <div class="form-group row">
                        <label class="col-sm-4 col-form-label">A side set temp</label>
                        <div class="col-sm-8">
                           <h4>{{ p.a_side_set_temp_point }}</h4>
                        </div>
                     </div>
                  </div>
                  <div class="col-xl-6 col-lg-12 col-sm-12">
                     <div class="form-group row">
                        <label class="col-sm-4 col-form-label">B side set temp</label>
                        <div class="col-sm-8">
                           <h4>{{ p.b_side_set_temp_point }}</h4>
                        </div>
                     </div>
                  </div>
                 </div>
                              <div class="row">
                  <div class="col-xl-6 col-lg-12 col-sm-12">
                     <div class="form-group row">
                        <label class="col-sm-4 col-form-label">Hot set temp</label>
                        <div class="col-sm-8">
                           <h4>{{ p.hose_set_temp_point }}</h4>
                        </div>
                     </div>
                  </div>
                  <div class="col-xl-6 col-lg-12 col-sm-12">
                     <div class="form-group row">
                        <label class="col-sm-4 col-form-label">Pressure set</label>
                        <div class="col-sm-8">
                           <h4>{{ p.pressure_set_point }}</h4>
                        </div>
                     </div>
                  </div>
                 </div>
                              <div class="row">
                  <div class="col-xl-6 col-lg-12 col-sm-12">
                     <div class="form-group row">
                        <label class="col-sm-4 col-form-label">Mixing Chamber Size</label>
                        <div class="col-sm-8">
                           <h4>{{ p.mixing_chamber_size_point }}</h4>
                        </div>
                     </div>
                  </div>
                  <div class="col-xl-6 col-lg-12 col-sm-12">
                     <div class="form-group row">
                        <label class="col-sm-4 col-form-label">Photo of Installed foam</label>
                        <div class="col-sm-8">
                           <h4>{{ p.image_point }}</h4>
                        </div>
                     </div>
                  </div>
                  <div class="col-xl-6 col-lg-12 col-sm-12">
                     <div class="form-group row">
                        <label class="col-sm-4 col-form-label">Starting Drum Temperature Point</label>
                        <div class="col-sm-8">
                           <h4>{{ p.start_drum_temp_point }}</h4>
                        </div>
                     </div>
                  </div>
                 </div>
                            <div class="row">
                  <div class="col-xl-6 col-lg-12 col-sm-12">
                     <div class="form-group row">
                        <label class="col-sm-4 col-form-label"><strong>Total Points</strong></label>
                        <div class="col-sm-8">
                           <h4>{{ p.total_points }}</h4>
                        </div>
                     </div>
                  </div>
                 </div>
                      {% endfor %} 
                         </div>
                    </div>
                 </div>
                 
          </div>
        </div>

<script type="text/javascript" src="{% static 'js/jquery.min.js' %}">
  </script> 
<script type="text/javascript">
  window.history.forward();
  function noBack() { window.history.forward(); }

  var certificateLength = $('.certificate').length
  console.log('certificateLength-----',certificateLength) 
  var extensionIcon = ''
  for(var i =0; i<certificateLength; i++){
    console.log('i---',i)
    var certificateFileName = $('#certificate_'+(i+1)).text()
    console.log('certificateFileName-----',certificateFileName)
    var certificateExtension = certificateFileName.split('.')
    if(certificateExtension[1] == 'pdf'){
      extensionIcon = `<i class="icofont icofont-file-pdf"></i>`
      console.log('--pdf---',$('#certificate_'+(i+1)))
      $('#certificate_'+(i+1)).prev().children().children().append(extensionIcon)

    }
    if(certificateExtension[1] == 'png' || certificateExtension[1] == 'jpg' || certificateExtension[1] == 'jpeg'){
      extensionIcon = `<i class="icofont icofont-ui-image"></i>`
      console.log('---png--',$('#certificate_'+(i+1)))
      $('#certificate_'+(i+1)).prev().children().children().append(extensionIcon)
    }
  }

</script>

    <script type="text/javascript">
  window.history.forward();
  function noBack() { window.history.forward(); }

  var certificateLength = $('.equipment').length
  var extensionIcon = ''
  for(var i =0; i<certificateLength; i++){
    var certificateFileName = $('#equipment_'+(i+1)).text()
    var certificateExtension = certificateFileName.split('.')
    if(certificateExtension[1] == 'pdf'){
      extensionIcon = `<i class="icofont icofont-file-pdf"></i>`
      $('#equipment_'+(i+1)).prev().children().children().append(extensionIcon)

    }
    if(certificateExtension[1] == 'png' || certificateExtension[1] == 'jpg' || certificateExtension[1] == 'jpeg'){
      extensionIcon = `<i class="icofont icofont-ui-image"></i>`
      $('#equipment_'+(i+1)).prev().children().children().append(extensionIcon)
    }
  }

</script>

<script type="text/javascript">
  window.history.forward();
  function noBack() { window.history.forward(); }

  var certificateLength = $('.industry').length
  var extensionIcon = ''
  for(var i =0; i<certificateLength; i++){
    var certificateFileName = $('#industry_'+(i+1)).text()
    var certificateExtension = certificateFileName.split('.')
    if(certificateExtension[1] == 'pdf'){
      extensionIcon = `<i class="icofont icofont-file-pdf"></i>`
      $('#industry_'+(i+1)).prev().children().children().append(extensionIcon)

    }
    if(certificateExtension[1] == 'png' || certificateExtension[1] == 'jpg' || certificateExtension[1] == 'jpeg'){
      extensionIcon = `<i class="icofont icofont-ui-image"></i>`
      $('#industry_'+(i+1)).prev().children().children().append(extensionIcon)
    }
  }

</script>

<script type="text/javascript">
  window.history.forward();
  function noBack() { window.history.forward(); }

  var certificateLength = $('.building').length
  var extensionIcon = ''
  for(var i =0; i<certificateLength; i++){
    var certificateFileName = $('#building_'+(i+1)).text()
    var certificateExtension = certificateFileName.split('.')
    if(certificateExtension[1] == 'pdf'){
      extensionIcon = `<i class="icofont icofont-file-pdf"></i>`
      $('#building_'+(i+1)).prev().children().children().append(extensionIcon)

    }
    if(certificateExtension[1] == 'png' || certificateExtension[1] == 'jpg' || certificateExtension[1] == 'jpeg'){
      extensionIcon = `<i class="icofont icofont-ui-image"></i>`
      $('#building_'+(i+1)).prev().children().children().append(extensionIcon)
    }
  }

</script>

<script type="text/javascript">
  window.history.forward();
  function noBack() { window.history.forward(); }

  var certificateLength = $('.quality').length
  var extensionIcon = ''
  for(var i =0; i<certificateLength; i++){
    var certificateFileName = $('#quality_'+(i+1)).text()
    var certificateExtension = certificateFileName.split('.')
    if(certificateExtension[1] == 'pdf'){
      extensionIcon = `<i class="icofont icofont-file-pdf"></i>`
      $('#quality_'+(i+1)).prev().children().children().append(extensionIcon)

    }
    if(certificateExtension[1] == 'png' || certificateExtension[1] == 'jpg' || certificateExtension[1] == 'jpeg'){
      extensionIcon = `<i class="icofont icofont-ui-image"></i>`
      $('#quality_'+(i+1)).prev().children().children().append(extensionIcon)
    }
  }

</script>

<script type="text/javascript">
   console.log('in safety')
   window.history.forward();
   function noBack() { window.history.forward(); }
   console.log('length of safety',$('.safety').length)
   var certificateLength = $('.safety').length
   var extensionIcon = ''
   for(var i =0; i<certificateLength; i++){
     var certificateFileName = $('#safety_'+(i+1)).text()
     var certificateExtension = certificateFileName.split('.')
     if(certificateExtension[1] == 'pdf'){
       extensionIcon = `<i class="icofont icofont-file-pdf"></i>`
       $('#safety_'+(i+1)).prev().children().children().append(extensionIcon)
 
     }
     if(certificateExtension[1] == 'png' || certificateExtension[1] == 'jpg' || certificateExtension[1] == 'jpeg'){
       extensionIcon = `<i class="icofont icofont-ui-image"></i>`
       $('#safety_'+(i+1)).prev().children().children().append(extensionIcon)
     }
   }
 
 </script>
{% endblock %}
