{% extends 'base.html' %}
{% load static %}
{% block body %}


<div id="loader" class="product_loader">
  <div><img src="{{MEDIA_URL}}3.svg"></div>
  <div id="progress-bar-message" style="color: white; padding-top: 19px;"></div>
</div>
        <div class="pcoded-content">
            <div class="page-header card">
            <div class="row align-items-end">
              <div class="col-lg-8">
                <div class="page-header-title">
                  <div class="d-inline">
                       <h5><a href="{% url 'product' %}"><i class="icofont icofont-simple-left"></i></a> Edit Product</h5>
                  </div>
                </div>
              </div>
              <div class="col-lg-4">
                   
              </div>
            </div>
          </div>
          <div class="page-header card">
            <form action="{% url '_product/' id=product_id  %}" method="post" enctype="multipart/form-data">
               {% csrf_token %}
               <div class="card">
                    <div class="card-block">
                         <div class="row">
                                <div class="col-xl-6 col-lg-6 col-sm-12">
                                     <div class="form-group">
                                          <label>Merchant Name</label>&nbsp;<span style="color:red;">*</span>
                                          <select class="form-control" name="merchant_id" id="merchant_id" required="">
                                                  <option value="0">Choose Merchant</option>
                                                  {% for id,name in merchant_combo %}
                                                      <option value="{{ id }}" >{{ name }}</option>
                                                  {% endfor %}
                                          </select>
                                     </div>
                                </div>
                                <div class="col-xl-6 col-lg-6 col-sm-12">
                                     <div class="form-group">
                                          <label>Product Name</label>&nbsp;<span style="color:red;">*</span>
                                          <input type="text" class="form-control" name="product_name" id="product_name" required="" value="{{ products.product_name }}">
                                     </div>
                                </div>
                         </div>
                         <div class="row">
                                <div class="col-xl-6 col-lg-6 col-sm-12">
                                     <div class="form-group des1-fr">
                                          <label>Product Description</label>&nbsp;<span style="color:red;">*</span>
                                          <textarea class="form-control" id="product_description" name="product_description" required="">{{ products.description }}</textarea>
                                     </div>
                                </div>
                                <div class="col-xl-6 col-lg-6 col-sm-12">
                                     <div class="form-group">
                                          <label>Product Image</label>
                                          <div class="prof-pic-part prof-pic-part-admin">
                                                <div class="prof-pic-img">
                                                     <img src="{{ products.image.url }}" alt="" id="product_fake_image">
                                                </div>
                                                <div class="prof-pic-btn">
                                                     <input type="file" name="product_image" id="product_image" accept="image/*" >
                                                     <span><i class="icofont icofont-camera-alt"></i></span>
                                                </div>
                                          </div>
                                     </div>
                                </div>
                         </div>
                         <hr>
                          <div class="page-header-title p-b-15">
                           <div class="d-inline">
                               <h5>Product Activation Details</h5>
                           </div>
                          </div>
                         <div class="row">
                                <div class="col-xl-6 col-lg-6 col-sm-12">
                                     <div class="form-group">
                                          <label>A Side Batch (e.g - abc)</label>&nbsp;<span style="color:red;">*</span>
                                          <input type="text" class="form-control" pattern="^[A-Za-z -]+$" name="a_side_batch" id="a_side_batch" required="" value="{{ products.a_side_batch }}">
                                     </div>
                                </div>
                                <div class="col-xl-6 col-lg-6 col-sm-12">
                                     <div class="form-group">
                                          <label>B Side Set temp</label>&nbsp;<span style="color:red;">*</span>
                                          <!-- <input type="number" class="form-control temp1" name="b_side_set_temp" id="b_side_set_temp" required="" value="{{ products.b_side_set_temp }}"> -->
                                          <select class="form-control temp1" name="b_side_set_temp" id="b_side_set_temp" required="">
                                             <option value="100">100</option>
                                             <option value="102">102</option>
                                             <option value="104">104</option>
                                             <option value="106">106</option>
                                             <option value="108">108</option>
                                             <option value="110">110</option>
                                             <option value="112">112</option>
                                             <option value="114">114</option>
                                             <option value="116">116</option>
                                             <option value="118">118</option>
                                             <option value="120">120</option>
                                             <option value="122">122</option>
                                             <option value="124">124</option>
                                             <option value="126">126</option>
                                             <option value="128">128</option>
                                             <option value="130">130</option>
                                             <option value="132">132</option>
                                             <option value="134">134</option>
                                             <option value="138">138</option>
                                             <option value="140">140</option>
                                             <option value="142">142</option>
                                             <option value="144">144</option>
                                             <option value="146">146</option>
                                             <option value="148">148</option>
                                             <option value="150">150</option>
                                          </select>
                                     </div>
                                </div>
                         </div>
                         <div class="row">
                                <div class="col-xl-6 col-lg-6 col-sm-12">
                                     <div class="form-group">
                                          <label>A Side Set temp</label>&nbsp;<span style="color:red;">*</span>
                                          <!-- <input type="number" class="form-control temp1" name="a_side_set_temp" id="a_side_set_temp" required="" value="{{ products.a_side_set_temp }}"> -->
                                          <select class="form-control temp2" name="a_side_set_temp" id="a_side_set_temp" required="">
                                             <option value="100">100</option>
                                             <option value="102">102</option>
                                             <option value="104">104</option>
                                             <option value="106">106</option>
                                             <option value="108">108</option>
                                             <option value="110">110</option>
                                             <option value="112">112</option>
                                             <option value="114">114</option>
                                             <option value="116">116</option>
                                             <option value="118">118</option>
                                             <option value="120">120</option>
                                             <option value="122">122</option>
                                             <option value="124">124</option>
                                             <option value="126">126</option>
                                             <option value="128">128</option>
                                             <option value="130">130</option>
                                             <option value="132">132</option>
                                             <option value="134">134</option>
                                             <option value="138">138</option>
                                             <option value="140">140</option>
                                             <option value="142">142</option>
                                             <option value="144">144</option>
                                             <option value="146">146</option>
                                             <option value="148">148</option>
                                             <option value="150">150</option>
                                          </select>
                                     </div>
                                </div>
                                <div class="col-xl-6 col-lg-6 col-sm-12">
                                     <div class="form-group">
                                          <label>Hot Set temp</label>&nbsp;<span style="color:red;">*</span>
                                          <!-- <input type="number" class="form-control temp1" name="hot_set_temp" id="hot_set_temp" required="" value="{{ products.hose_set_temp }}"> -->
                                          <select class="form-control temp3" name="hot_set_temp" id="hot_set_temp" required="">
                                             <option value="100">100</option>
                                             <option value="102">102</option>
                                             <option value="104">104</option>
                                             <option value="106">106</option>
                                             <option value="108">108</option>
                                             <option value="110">110</option>
                                             <option value="112">112</option>
                                             <option value="114">114</option>
                                             <option value="116">116</option>
                                             <option value="118">118</option>
                                             <option value="120">120</option>
                                             <option value="122">122</option>
                                             <option value="124">124</option>
                                             <option value="126">126</option>
                                             <option value="128">128</option>
                                             <option value="130">130</option>
                                             <option value="132">132</option>
                                             <option value="134">134</option>
                                             <option value="138">138</option>
                                             <option value="140">140</option>
                                             <option value="142">142</option>
                                             <option value="144">144</option>
                                             <option value="146">146</option>
                                             <option value="148">148</option>
                                             <option value="150">150</option>
                                          </select>
                                     </div>
                                </div>
                         </div>
                         <div class="row">
                                <div class="col-xl-6 col-lg-6 col-sm-12">
                                     <div class="form-group">
                                          <label>Mixing Chamber Size</label>&nbsp;<span style="color:red;">*</span>
                                          <!-- <input type="number" class="form-control temp1" name="mixing_chamber_size" id="mixing_chamber_size" required="" value="{{ products.mixing_chamber_size }}"> -->
                                          <select class="form-control temp4" name="mixing_chamber_size" id="mixing_chamber_size" required="">
                                             <option value="0">0</option>
                                             <option value="1">1</option>
                                             <option value="2">2</option>
                                             <option value="3">3</option>
                                          </select>
                                     </div>
                                </div>
                                <div class="col-xl-6 col-lg-6 col-sm-12">
                                     <div class="form-group">
                                          <label>Pressure Set</label>&nbsp;<span style="color:red;">*</span>
                                          <!-- <input type="number" class="form-control temp1" name="pressure_set" id="pressure_set" required="" value="{{ products.pressure_set }}"> -->
                                          <select class="form-control temp5" name="pressure_set" id="pressure_set" required="">
                                             <option value="900">900</option>
                                             <option value="925">925</option>
                                             <option value="950">950</option>
                                             <option value="975">975</option>
                                             <option value="1000">1000</option>
                                             <option value="1025">1025</option>
                                             <option value="1075">1075</option>
                                             <option value="1100">1100</option>
                                             <option value="1125">1125</option>
                                             <option value="1150">1150</option>
                                             <option value="1175">1175</option>
                                             <option value="1200">1200</option>
                                             <option value="1225">1225</option>
                                             <option value="1250">1250</option>
                                             <option value="1275">1275</option>
                                             <option value="1300">1300</option>
                                             <option value="1325">1325</option>
                                             <option value="1350">1350</option>
                                             <option value="1375">1375</option>
                                             <option value="1400">1400</option>
                                             <option value="1425">1425</option>
                                             <option value="1450">1450</option>
                                             <option value="1475">1475</option>
                                             <option value="1500">1500</option>
                                          </select>
                                     </div>
                                </div>
                         </div>
                         <div class="row">
                                <div class="col-xl-6 col-lg-6 col-sm-12">
                                     <div class="form-group">
                                          <label>Starting Drum Temperature</label>&nbsp;<span style="color:red;">*</span>
                                          <!-- <input type="number" class=" integerField form-control temp1" name="starting_drum_temperature" id="starting_drum_temperature" required="" value="{{ products.start_drum_temp }}"> -->
                                          <select class="form-control temp6" name="starting_drum_temperature" id="starting_drum_temperature" required="">
                                             <option value="40">40</option>
                                                  <option value="42">42</option>
                                                  <option value="44">44</option>
                                                  <option value="46">46</option>
                                                  <option value="48">48</option>
                                                  <option value="50">50</option>
                                                  <option value="52">52</option>
                                                  <option value="54">54</option>
                                                  <option value="56">56</option>
                                                  <option value="58">58</option>
                                                  <option value="60">60</option>
                                                  <option value="62">62</option>
                                                  <option value="64">64</option>
                                                  <option value="68">68</option>
                                                  <option value="70">70</option>
                                                  <option value="72">72</option>
                                                  <option value="74">74</option>
                                                  <option value="76">76</option>
                                                  <option value="78">78</option>
                                                  <option value="80">80</option>
                                                  <option value="82">82</option>
                                                  <option value="84">84</option>
                                                  <option value="86">86</option>
                                                  <option value="88">88</option>
                                                  <option value="90">90</option>
                                                  <option value="92">92</option>
                                                  <option value="94">94</option>
                                                  <option value="96">96</option>
                                                  <option value="98">98</option>
                                                  <option value="100">100</option>
                                                  <option value="102">102</option>
                                                  <option value="104">104</option>
                                                  <option value="106">106</option>
                                                  <option value="108">108</option>
                                                  <option value="110">110</option>
                                                  <option value="112">112</option>
                                                  <option value="114">114</option>
                                                  <option value="116">116</option>
                                                  <option value="118">118</option>
                                                  <option value="120">120</option>
                                          </select>
                                     </div>
                                </div>
                                <div class="col-xl-6 col-lg-6 col-sm-12">
                                   <div class="form-group">
                                       <label>Machine Type</label>&nbsp;<span style="color:red;">*</span>
                                       <select class="form-control temp7" name="machine_type"
                                               id="machine_type" required="">
                                           <!-- <option value="">Choose Machine Type</option> -->
                                           {% for machine in machine %}
                                           <option value={{machine.machine_type}}>{{machine.machine_type}}</option>
                                           {% endfor %}
                                       </select>
                                   </div>
                               </div>
                         </div>
                         <div class="row">
                              <div class="col-xl-6 col-lg-6 col-sm-12">
                                  <div class="form-group">
                                      <label>Substrate Type</label>&nbsp;<span style="color:red;">*</span>
                                      <select class="form-control temp8" name="substrate_type"
                                              id="substrate_type" required="">
                                          <!-- <option value="">Choose Substrate Type</option> -->
                                          {% for substrate in substrate %}
                                          <option value={{substrate.substrate_type}}>{{substrate.substrate_type}}</option>
                                          {% endfor %}
                                      </select>
                                  </div>
                              </div>
                              <div class="col-xl-6 col-lg-6 col-sm-12">
                                   <div class="form-group">
                                       <label>Substrate Temp</label>
                                       <select class="form-control" name="substrate_temp"
                                               id="substrate_temp">
                                             {% if products.substrate_temp == '' %}
                                             <option value="">Choose Substrate temp</option>
                                             {% else %}
                                           <option value={{products.substrate_temp}}>{{products.substrate_temp}}</option>
                                           {% endif %}
                                           <option value="0">0°F</option>
                                           <option value="10">10°F</option>
                                           <option value="20">20°F</option>
                                           <option value="30">30°F</option>
                                           <option value="40">40°F</option>
                                           <option value="50">50°F</option>
                                           <option value="60">60°F</option>
                                           <option value="70">70°F</option>
                                           <option value="80">80°F</option>
                                           <option value="90">90°F</option>
                                           <option value="90">100°F</option>
                                           <option value="90">110°F</option>
                                           <option value="90">120°F</option>
                                       </select>
                                   </div>
                              </div>
                         </div>
                         <div class="row">
                              <div class="col-xl-6 col-lg-6 col-sm-12">
                                   <div class="form-group">
                                        <label>Substrate Moisture</label>
                                        <select class="form-control" name="substrate_moisture"
                                              id="substrate_moisture">
                                             {% if products.substrate_moisture == '' %}
                                             <option value="">Choose Substrate Moisture</option>
                                             {% else %}
                                             <option value={{products.substrate_moisture}}>{{products.substrate_moisture}}</option>
                                             {% endif %}
                                             <option value="0">0%</option>
                                             <option value="10">10%</option>
                                             <option value="20">20%</option>
                                             <option value="30">30%</option>
                                             <option value="40">40%</option>
                                             <option value="50">50%</option>
                                             <option value="60">60%</option>
                                             <option value="70">70%</option>
                                             <option value="80">80%</option>
                                             <option value="90">90%</option>
                                             <option value="100">100%</option>
                                        </select>
                                   </div>
                              </div>
                              <div class="col-xl-6 col-lg-6 col-sm-12">
                                   <div class="form-group">
                                        <label>Safety warning signs Posted?</label>
                                        <select class="form-control" name="safety_warning"
                                              id="safety_warning">
                                             {% if products.saftey_warning_signs_posted == '' %}
                                             <option value="">Choose Safety warning signs</option>
                                             {% else %}
                                             <option value={{products.saftey_warning_signs_posted}}>{{products.saftey_warning_signs_posted}}</option>
                                             {% endif %}
                                             <option value="yes">YES</option>
                                             <option value="no">NO</option>
                                        </select>
                                   </div>
                              </div>
                         </div>
                         <div class="row">
                              <div class="col-xl-6 col-lg-6 col-sm-12">
                                   <div class="form-group">
                                        <label>Mechanical Ventilation Used</label>
                                        <select class="form-control" name="mechanical_used"
                                              id="mechanical_used">
                                             {% if products.mechanical_ventilation_used == '' %}
                                             <option value="">Choose Mechanical Ventilation Used</option>
                                             {% else %}
                                             <option value={{products.mechanical_ventilation_used}}>{{products.mechanical_ventilation_used}}</option>
                                             {% endif %}
                                             <option value="yes">YES</option>
                                             <option value="no">NO</option>
                                        </select>
                                   </div>
                              </div>
                              <div class="col-xl-6 col-lg-6 col-sm-12">
                                   <div class="form-group">
                                        <label>Sprayer Using Fresh Air?</label>
                                        <select class="form-control" name="sprayer_fresh"
                                              id="sprayer_fresh">
                                             {% if products.sprayer_using_fresh_air == '' %}
                                             <option value="">Choose Sprayer Using Fresh Air</option>
                                             {% else %}
                                             <option value={{products.sprayer_using_fresh_air}}>{{products.sprayer_using_fresh_air}}</option>
                                             {% endif %}
                                             <option value="yes">YES</option>
                                             <option value="no">NO</option>
                                        </select>
                                   </div>
                              </div>
                         </div>
                         <div class="row">
                              <div class="col-xl-6 col-lg-6 col-sm-12">
                                   <div class="form-group">
                                        <label>Complete After Spraying (e.g - abc)</label>
                                        <input type="text" pattern="^[A-Za-z -]+$" class="form-control" name="complete_spray"
                                             id="complete_spray" value={{products.complete_after_spraying}}>
                                   </div>
                              </div>
                         </div>
                    </div>
               </div>
               
               <div class="page-header-title p-b-15">
                   <div class="d-inline">
                       <h5>Product Guidelines</h5>
                   </div>
               </div>
               
               <div class="card">
                    <div class="card-block">
                         <!-- <div class="prod-guidelines-list clearfix">
                                <div class="clearfix">
                                    <h2>Technical Datasheet (Supported File Type: pdf)</h2>
                                    <div class="browse-btn">
                                         <input id="tech_file_0" name="technical_datasheet_files_0" type="file" class="custom-file-input tech_file" accept=".pdf" onchange="editTechFile('tech_file_0');">
                                         <input type="hidden" id="change_n" value="0">
                                         <label>Upload</label>
                                    </div>
                                </div>
                                <ul id="tech_file_ul">
                                  {% for t,name,id in tech_combo %}
                                    <input type="file" id="tech_file_hidden_{{ forloop.counter }}" hidden name="tech_file_hidden_{{ forloop.counter }}" value="{{ t.file.url }}">
                                  <li>{{ t.file.url }}

                                      <div class="box">
                                        <a href="{% url 'delete_file' file_name='tech' id=id %}" onclick="customRemoveElement($(this),'tech_file')" class="remove1">
                                            <i class="icofont icofont-close"></i>
                                        </a>
                                           <div class="icon">
                                           <a href="{{ MEDIA_URL }}{{ t }}">
                                                <i class="icofont icofont-file-pdf"></i>
                                           </a></div>
                                      </div>
                                      <div class="file_name">{{ name }}</div>
                                  </li>  
                                  {% endfor %}
                                </ul>
                         </div>
                         <div class="prod-guidelines-list clearfix">
                                <div class="clearfix">
                                    <h2>Application Guideline (Supported File Type: pdf)</h2>
                                    <div class="browse-btn">
                                         <input type="file" name="application_guideline_files_0" class="custom-file-input app_file" id="app_file_0" accept=".pdf" onchange="editAppFile('app_file_0');">
                                         <label>Upload</label>
                                    </div>
                                </div>
                                <ul id="app_file_ul">
                                  {% for ap,name,id in app_combo %}
                                    <input type="file" id="app_file_hidden_{{ forloop.counter }}" hidden name="app_file_hidden_{{ forloop.counter }}" value="{{ ap }}">
                                  <li>
                                      <div class="box">
                                        <a href="{% url 'delete_file' file_name='app' id=id %}" onclick="customRemoveElement($(this),'app_file')" class="remove1" >
                                            <i class="icofont icofont-close"></i>
                                        </a>
                                           <div class="icon">
                                           <a href="{{ MEDIA_URL }}{{ ap }}">
                                                <i class="icofont icofont-file-pdf"></i>
                                            </a>
                                           </div>
                                      </div>
                                      <div class="file_name">{{ name }}</div>

                                  </li>  
                                  {% endfor %}
                                </ul>
                         </div>
                         <div class="prod-guidelines-list video-guidelines-list clearfix">
                                <div class="clearfix">
                                    <h2>Video (Supported File Type: mp4)</h2>
                                    <div class="browse-btn">
                                         <input type="file" name="video_files_0" class="custom-file-input video" id="video_0" accept="video/*" onchange="editVideoFile('video_0');">
                                         <label>Upload</label>
                                    </div>
                                </div>
                                <ul id="video_ul">
                                  {% for vi,name,id in video_combo %}
                                    <input type="file" id="video_file_hidden_{{ forloop.counter }}" hidden name="video_file_hidden_{{ forloop.counter }}" value="{{ vi }}">
                                    <li>
                                        <div class="box">
                                          <a href="{% url 'delete_file' file_name='video' id=id %}" onclick="customRemoveElement($(this),'video')" class="remove1">
                                            <i class="icofont icofont-close"></i>
                                        </a>
                                             <div class="icon">
                                             <a href="{{ MEDIA_URL }}{{ vi }}">
                                                  <i class="icofont icofont-video"></i>
                                              </a>
                                             </div>
                                        </div>
                                             <div class="file_name">{{ name }}</div>
                                    </li>  
                                    {% endfor %}
                                </ul>
                           </div>
                         <div class="prod-guidelines-list clearfix">
                                <div class="clearfix">
                                    <h2>Safety Datasheet (Supported File Type: pdf)</h2>
                                    <div class="browse-btn">
                                         <input type="file" name="safety_datasheet_files_0" class="custom-file-input safety_file" id="safety_file_0" accept=".pdf" onchange="editSafetyFile('safety_file_0');">
                                         <label>Upload</label>
                                    </div>
                                </div>
                                <ul id="safety_file_ul">
                                  {% for s,name,id in safety_combo %}
                                    <input type="file" id="safety_file_hidden_{{ forloop.counter }}" hidden name="safety_file_hidden_{{ forloop.counter }}" value="{{ s }}">
                                  <li>
                                      <div class="box">
                                        <a href="{% url 'delete_file' file_name='safe' id=id %}" onclick="customRemoveElement($(this),'safety_file')" class="remove1">
                                            <i class="icofont icofont-close"></i>
                                        </a>
                                           <div class="icon">
                                           <a href="{{ MEDIA_URL }}{{ s }}">
                                                <i class="icofont icofont-file-pdf"></i>
                                            </a>
                                           </div>
                                      </div>
                                      <div class="file_name">{{ name }}</div>

                                  </li>  
                                  {% endfor %}
                                </ul>
                         </div> -->
                         <div class="prod-guidelines-list clearfix">
                                <div class="clearfix">
                                    <h2>UPC Product Resources (Supported File Type: pdf, png, jpg, jpeg)</h2>
                                    <div class="browse-btn">
                                         <input type="file" name="certificate_file_0" class="custom-file-input certificate_file" id="certificate_file_0" accept=".pdf,image/*" onchange="editCertificateFile('certificate_file_0');">
                                         <label>Upload</label>
                                    </div>
                                </div>
                                <ul id="certificate_file_ul">
                                  {% for c,name,id in product_combo %}
                                    <input type="file" id="certificate_file_hidden_{{ forloop.counter }}" hidden name="certificate_file_hidden_{{ forloop.counter }}" value="{{ c }}">
                                    <li>
                                        <div class="box">
                                          <a href="{% url 'delete_file' file_name='certificate' id=id %}" onclick="customRemoveElement($(this),'certificate_file')" class="remove1">
                                              <i class="icofont icofont-close"></i>
                                          </a>
                                             <div class="icon">
                                             <a href="{{ MEDIA_URL }}{{ c }}">
                                                  
                                              </a>
                                             </div>
                                        </div>
                                        <div class="file_name certificate" id="certificate_{{forloop.counter}}">{{ name }}</div>
                                    </li>  
                                  {% endfor %}
                                </ul>
                         </div>

                        

                        <!-- <div class="prod-guidelines-list clearfix">
                                <div class="clearfix">
                                    <h2>Tech Tips (Supported File Type: pdf, png, jpg, jpeg)</h2>
                                    <div class="browse-btn">
                                         <input type="file" name="industry_file_0" class="custom-file-input industry_file" id="industry_file_0" accept=".pdf,image/*" onchange="editIndustryFile('industry_file_0');">
                                         <label>Upload</label>
                                    </div>
                                </div>
                                <ul id="industry_file_ul">
                                  {% for c,name,id in tech_tips_combo %}
                                    <input type="file" id="industry_file_hidden_{{ forloop.counter }}" hidden name="industry_file_hidden_{{ forloop.counter }}" value="{{ c }}">
                                    <li>
                                        <div class="box">
                                          <a href="{% url 'delete_file' file_name='industry' id=id %}" onclick="customRemoveElement($(this),'industry_file')" class="remove1">
                                              <i class="icofont icofont-close"></i>
                                          </a>
                                             <div class="icon">
                                             <a href="{{ MEDIA_URL }}{{ c }}">
                                              </a>
                                             </div>
                                        </div>
                                        <div class="file_name industry" id="industry_{{forloop.counter}}">{{ name }}</div>
                                    </li>
                                  {% endfor %}
                                </ul>
                         </div>

                         <div class="prod-guidelines-list clearfix">
                              <div class="clearfix">
                                  <h2>Safety Documents (Supported File Type: pdf, png, jpg, jpeg)</h2>
                                  <div class="browse-btn">
                                       <input type="file" name="safety_datasheet_files_0" class="custom-file-input safety_file" id="safety_file_0" accept=".pdf" onchange="editSafetyFile('safety_file_0');">
                                       <label>Upload</label>
                                  </div>
                              </div>
                              <ul id="safety_file_ul">
                                {% for s,name,id in safety_combos %}
                                  <input type="file" id="safety_file_hidden_{{ forloop.counter }}" hidden name="safety_file_hidden_{{ forloop.counter }}" value="{{ s }}">
                                <li>
                                    <div class="box">
                                      <a href="{% url 'delete_file' file_name='safe' id=id %}" onclick="customRemoveElement($(this),'safety_file')" class="remove1">
                                          <i class="icofont icofont-close"></i>
                                      </a>
                                         <div class="icon">
                                         <a href="{{ MEDIA_URL }}{{ s }}">
                                              <i class="icofont icofont-file-pdf"></i>
                                          </a>
                                         </div>
                                    </div>
                                    <div class="file_name">{{ name }}</div>

                                </li>  
                                {% endfor %}
                              </ul>
                       </div>

                        <div class="prod-guidelines-list clearfix">
                                <div class="clearfix">
                                    <h2>Building Science (Supported File Type: pdf, png, jpg, jpeg)</h2>
                                    <div class="browse-btn">
                                         <input type="file" name="building_file_0" class="custom-file-input building_file" id="building_file_0" accept=".pdf,image/*" onchange="editBuildingFile('building_file_0');">
                                         <label>Upload</label>
                                    </div>
                                </div>
                                <ul id="building_file_ul">
                                  {% for c,name,id in building_combo %}
                                    <input type="file" id="building_file_hidden_{{ forloop.counter }}" hidden name="building_file_hidden_{{ forloop.counter }}" value="{{ c }}">
                                    <li>
                                        <div class="box">
                                          <a href="{% url 'delete_file' file_name='building' id=id %}" onclick="customRemoveElement($(this),'building_file')" class="remove1">
                                              <i class="icofont icofont-close"></i>
                                          </a>
                                             <div class="icon">
                                             <a href="{{ MEDIA_URL }}{{ c }}">
                                              </a>
                                             </div>
                                        </div>
                                        <div class="file_name building" id="building_{{forloop.counter}}">{{ name }}</div>
                                    </li>
                                  {% endfor %}
                                </ul>
                         </div> -->

                        <div class="prod-guidelines-list clearfix">
                                <div class="clearfix">
                                    <h2>Job Site Resources (Supported File Type: pdf, png, jpg, jpeg)</h2>
                                    <div class="browse-btn">
                                         <input type="file" name="quality_file_0" class="custom-file-input quality_file" id="quality_file_0" accept=".pdf,image/*" onchange="editQualityFile('quality_file_0');">
                                         <label>Upload</label>
                                    </div>
                                </div>
                                <ul id="quality_file_ul">
                                  {% for c,name,id in job_site_combo %}
                                    <input type="file" id="quality_file_hidden_{{ forloop.counter }}" hidden name="quality_file_hidden_{{ forloop.counter }}" value="{{ c }}">
                                    <li>
                                        <div class="box">
                                          <a href="{% url 'delete_file' file_name='quality' id=id %}" onclick="customRemoveElement($(this),'quality_file')" class="remove1">
                                              <i class="icofont icofont-close"></i>
                                          </a>
                                             <div class="icon">
                                             <a href="{{ MEDIA_URL }}{{ c }}">
                                              </a>
                                             </div>
                                        </div>
                                        <div class="file_name quality" id="quality_{{forloop.counter}}">{{ name }}</div>
                                    </li>
                                  {% endfor %}
                                </ul>
                         </div>

                         <!-- <div class="prod-guidelines-list clearfix">
                              <div class="clearfix">
                                  <h2>Equipment Resources (Supported File Type: pdf, png, jpg, jpeg)</h2>
                                  <div class="browse-btn">
                                       <input type="file" name="equipment_file_0" class="custom-file-input equipment_file" id="equipment_file_0" accept=".pdf,image/*" onchange="editEquipmentFile('equipment_file_0');">
                                       <label>Upload</label>
                                  </div>
                              </div>
                              <ul id="equipment_file_ul">
                                {% for c,name,id in equipment_combo %}
                                  <input type="file" id="equipment_file_hidden_{{ forloop.counter }}" hidden name="equipment_file_hidden_{{ forloop.counter }}" value="{{ c }}">
                                  <li>
                                      <div class="box">
                                        <a href="{% url 'delete_file' file_name='equipment' id=id %}" onclick="customRemoveElement($(this),'equipment_file')" class="remove1">
                                            <i class="icofont icofont-close"></i>
                                        </a>
                                           <div class="icon">
                                           <a href="{{ MEDIA_URL }}{{ c }}">
                                            </a>
                                           </div>
                                      </div>
                                      <div class="file_name equipment" id="equipment_{{forloop.counter}}">{{ name }}</div>
                                  </li>
                                {% endfor %}
                              </ul>
                       </div> -->

                    </div>
               </div>
               
               <div class="page-header-title p-b-15">
                   <div class="d-inline">
                       <h5>Product Rewards</h5>
                   </div>
               </div>
               
               <div class="card">
                    <div class="card-block v-product-top">
                         <div class="row">
                                <div class="col-xl-6 col-lg-6 col-sm-12">
                                     <div class="form-group">
                                          <label>QR Code Scan</label>&nbsp;<span style="color:red;">*</span>
                                          <input type="number" name="qr_code_scan_rewards" class="form-control point" id="qr_code_scan_rewards" required="" value="{{ products.initial_point }}">
                                     </div>
                                </div>
                                <div class="col-xl-6 col-lg-6 col-sm-12">
                                     <div class="form-group">
                                          <label>A Side Batch</label>&nbsp;<span style="color:red;">*</span>
                                          <input name="a_side_batch_rewards" type="number" class="form-control point" id="a_side_batch_rewards" required="" value="{{ products.a_side_batch_point }}">
                                     </div>
                                </div>
                         </div>
                         <div class="row">
                                <div class="col-xl-6 col-lg-6 col-sm-12">
                                     <div class="form-group">
                                          <label>A Side Set Temp</label>&nbsp;<span style="color:red;">*</span>
                                          <input type="number" name="a_side_set_temp_rewards" class="form-control point" id="a_side_set_temp_rewards" required="" value="{{ products.a_side_set_temp_point }}">
                                     </div>
                                </div>
                                <div class="col-xl-6 col-lg-6 col-sm-12">
                                     <div class="form-group">
                                          <label>B Side Set Temp</label>&nbsp;<span style="color:red;">*</span>
                                          <input type="number" name="b_side_set_temp_rewards" class="form-control point" id="b_side_set_temp_rewards" required="" value="{{ products.b_side_set_temp_point }}">
                                     </div>
                                </div>
                         </div>
                         <div class="row">
                              <div class="col-xl-6 col-lg-6 col-sm-12">
                                   <div class="form-group">
                                        <label>Hot Set Temp</label>&nbsp;<span style="color:red;">*</span>
                                        <input type="number" name="hot_set_temp_rewards" class="form-control point" id="hot_set_temp_rewards" required="" value="{{ products.hose_set_temp_point }}">
                                   </div>
                              </div>
                              <div class="col-xl-6 col-lg-6 col-sm-12">
                                   <div class="form-group">
                                        <label>Pressure Set</label>&nbsp;<span style="color:red;">*</span>
                                        <input type="number" name="pressure_set_rewards" class="form-control point" id="pressure_set_rewards" required="" value="{{ products.pressure_set_point }}">
                                   </div>
                              </div>
                         </div>
                         <div class="row">
                              <div class="col-xl-6 col-lg-6 col-sm-12">
                                   <div class="form-group">
                                        <label>Mixing Chamber Size</label>&nbsp;<span style="color:red;">*</span>
                                        <input type="number" name="mixing_chamber_size_rewards" class="form-control point" id="mixing_chamber_size_rewards" required="" value="{{ products.mixing_chamber_size_point }}">
                                   </div>
                              </div>
                              <div class="col-xl-6 col-lg-6 col-sm-12">
                                   <div class="form-group">
                                        <label>Photo of Installed foam</label>&nbsp;<span style="color:red;">*</span>
                                        <input type="number" name="photo_installed_foam" class="form-control point" id="photo_installed_foam" required="" value="{{ products.image_point }}">
                                   </div>
                              </div>
                         </div>
                         <div class="row">
                              <div class="col-xl-6 col-lg-6 col-sm-12">
                                   <div class="form-group">
                                        <label>Starting Drum Temperature Point</label>&nbsp;<span style="color:red;">*</span>
                                        <input type="number" name="starting_drum_temperature_point" class=" integerField form-control point" id="starting_drum_temperature_point" required="" value="{{ products.start_drum_temp_point }}">
                                   </div>
                              </div>
                         </div>
                         <div class="row">
                              <div class="col-xl-6 col-lg-12 col-sm-12">
                                   <div class="form-group row">
                                        <label class="col-sm-12 col-form-label"><strong>Total Points : </strong><strong id="total-points" class="total">{{ products.total_points }}</strong></label>
                                        <input type="hidden" id="total_points1" name="total_points" value="{{ products.total_points }}" >
                                   </div>
                              </div>
                         </div>
                         <div class="text-right">
                              <button class="btn btn-primary" type="submit" onclick="$('#total_points1').val($('#total-points').html())" id="progress-bar-trigger">Save</button>
                              <a href="{% url 'product' %}"><button class="btn btn-primary" type="button" >Cancel</button></a>
                         </div>
                    </div>
  <div id="progress-bar"  style="background-color: #244289; width: 0%;display: none;">&nbsp;</div>

               </div>
            </form>
            </div>
        </div>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<script type="text/javascript" src="{% static 'js/jquery.min.js' %}"></script>

{% if error %}
  <script type="text/javascript">
    swal("error",'Please Select Merchant..!!',"error")
  </script>
{% endif %}
{% if product_name_error %}
    <script type="text/javascript">
        history.replaceState(null, null, window.location.href.split('?')[0]);
        swal("error", 'Product Name is already exists. Please enter unique product name.', "error");

    </script>
{% endif %}

<script type="text/javascript">
  var selected = `{{selected_merchant_id}}`
  $('#merchant_id').val(selected)

</script>

{% if loader %}
<script type="text/javascript">
  $(document).ready(function(){
    console.log('product_loader----',$('.product_loader'))
    $('.product_loader').css('display', 'none');
    var regex = /^[A-Za-z -]+$/;
      $('#progress-bar-trigger').click(function(){
          var a_side = $('#a_side_batch').val()
        if($('#merchant_id').val() == '0' || !a_side.match(regex)){
          $('.product_loader').css('display', 'none');
        }else{
          $('.product_loader').css('display', 'block');
        }
      })

      $("#a_side_batch").on("keyup", function() {
          if(!$('#a_side_batch').val().match(regex)){
              $('.product_loader').css('display', 'none');
          }
      });
  })
</script>
{% endif %}
<script type="text/javascript">


  $('input[type="number"]').on("keypress", function (evt) {
      console.log(evt)
      if (evt.which != 8 && evt.which != 0 && evt.which < 48 || evt.which > 57)
      {
          evt.preventDefault();
      }
    });
  $('.temp1').attr('onkeydown',"javascript: return event.keyCode == 69 ? false : true" )
  $('.point').attr('min',0)

  var certificateLength = $('.certificate').length
  console.log('certificateLength-----',certificateLength) 
  var extensionIcon = ''
  for(var i =0; i<certificateLength; i++){
    var certificateFileName = $('#certificate_'+(i+1)).text()
    console.log('certificateFileName-----',certificateFileName)
    var certificateExtension = certificateFileName.split('.')
    if(certificateExtension[1] == 'pdf'){
      extensionIcon = `<i class="icofont icofont-file-pdf"></i>`
      $('#certificate_'+(i+1)).prev().children().children().append(extensionIcon)
    }
    if(certificateExtension[1] == 'png' || certificateExtension[1] == 'jpg' || certificateExtension[1] == 'jpeg'){
      extensionIcon = `<i class="icofont icofont-ui-image"></i>`
      $('#certificate_'+(i+1)).prev().children().children().append(extensionIcon)
    }
  }
</script>

<script type="text/javascript">
  function updateProgress(progressBarElement, progressBarMessageElement, progress) {
    console.log('---------',progressBarElement,progressBarMessageElement,progress)
  progressBarElement.style.width = progress.percent + "%";
  // progressBarMessageElement.innerHTML = progress.current + ' of ' + progress.total + ' processed.';
  if(progress.current == -1){
    progress.current = 0;
  }
  progressBarMessageElement.innerHTML = progress.current + ' % ';

}

var trigger = document.getElementById('progress-bar-trigger');
console.log('trigger-------',trigger)
trigger.addEventListener('click', function(e) {
  var bar = document.getElementById("progress-bar");
  console.log('bar----',bar)
  var barMessage = document.getElementById("progress-bar-message");
  console.log('barmsg-------',barMessage)
  for (var i = 0; i < 11; i++) {
    console.log('i---------',i)
    setTimeout(updateProgress, 500 * i, bar, barMessage, {
      percent: (10 * i)-1,
      current: (10 * i)-1,
      total: 99
    })
  }
})

// var list2 = []
var product_temp = `{{ products.b_side_set_temp }}`
$(".temp1 option").each(function(){
     // list2.push($(this).val())
     // console.log($(this))
     // console.log('@@@@@@@@',$(this).val(),typeof($(this).val()),'==',product_temp,typeof(product_temp))
     if(product_temp == $(this).val()){
          $(this).attr('selected',true)
          // return false;
     }
})


var a_product_temp = `{{ products.a_side_set_temp }}`
$(".temp2 option").each(function(){
     // list2.push($(this).val())
     // console.log($(this))
     // console.log('@@@@@@@@',$(this).val(),typeof($(this).val()),'==',product_temp,typeof(product_temp))
     if(a_product_temp == $(this).val()){
          $(this).attr('selected',true)
          // return false;
     }
})

var hot_product_temp = `{{ products.hose_set_temp }}`
$(".temp3 option").each(function(){
     // list2.push($(this).val())
     // console.log($(this))
     // console.log('@@@@@@@@',$(this).val(),typeof($(this).val()),'==',product_temp,typeof(product_temp))
     if(hot_product_temp == $(this).val()){
          $(this).attr('selected',true)
          // return false;
     }
})


var mixing_chamber_size = `{{ products.mixing_chamber_size }}`
$(".temp4 option").each(function(){
     // list2.push($(this).val())
     // console.log($(this))
     // console.log('@@@@@@@@',$(this).val(),typeof($(this).val()),'==',product_temp,typeof(product_temp))
     if(mixing_chamber_size == $(this).val()){
          $(this).attr('selected',true)
          // return false;
     }
})

var pressure_set = `{{ products.pressure_set }}`
$(".temp5 option").each(function(){
     // list2.push($(this).val())
     // console.log($(this))
     // console.log('@@@@@@@@',$(this).val(),typeof($(this).val()),'==',product_temp,typeof(product_temp))
     if(pressure_set == $(this).val()){
          $(this).attr('selected',true)
          // return false;
     }
})

var start_drum_temp = `{{ products.start_drum_temp }}`
$(".temp6 option").each(function(){
     // list2.push($(this).val())
     // console.log($(this))
     // console.log('@@@@@@@@',$(this).val(),typeof($(this).val()),'==',product_temp,typeof(product_temp))
     if(start_drum_temp == $(this).val()){
          $(this).attr('selected',true)
          // return false;
     }
})

var machine_type = `{{ products.machine_type.machine_type }}`
$(".temp7 option").each(function(){
     // list2.push($(this).val())
     // console.log($(this))
     // console.log('@@@@@@@@',$(this).val(),typeof($(this).val()),'==',product_temp,typeof(product_temp))
     if(machine_type == $(this).val()){
          $(this).attr('selected',true)
          // return false;
     }
})

var substrate_type = `{{ products.substrate_type.substrate_type }}`
$(".temp8 option").each(function(){
     // list2.push($(this).val())
     // console.log($(this))
     // console.log('@@@@@@@@',$(this).val(),typeof($(this).val()),'==',product_temp,typeof(product_temp))
     if(substrate_type == $(this).val()){
          $(this).attr('selected',true)
          // return false;
     }
})
// $('.temp1').change(function(){

// })
// console.log(list2)
// console.log(product_temp)
// for(var i=0; i<list2.length; i++){
//      if(list2[i] == product_temp){
//           attr
//      }
// }
</script>


    <script>
        var certificateLength = $('.equipment').length
        var extensionIcon = ''
        for (var i = 0; i < certificateLength; i++) {
            var certificateFileName = $('#equipment_' + (i + 1)).text()
            var certificateExtension = certificateFileName.split('.')
            if (certificateExtension[1] == 'pdf') {
                extensionIcon = `<i class="icofont icofont-file-pdf"></i>`
                $('#equipment_' + (i + 1)).prev().children().children().append(extensionIcon)
            }
            if (certificateExtension[1] == 'png' || certificateExtension[1] == 'jpg' || certificateExtension[1] == 'jpeg') {
                extensionIcon = `<i class="icofont icofont-ui-image"></i>`
                $('#equipment_' + (i + 1)).prev().children().children().append(extensionIcon)
            }
        }
    </script>

    <script>
        var certificateLength = $('.industry').length
        var extensionIcon = ''
        for (var i = 0; i < certificateLength; i++) {
            var certificateFileName = $('#industry_' + (i + 1)).text()
            var certificateExtension = certificateFileName.split('.')
            if (certificateExtension[1] == 'pdf') {
                extensionIcon = `<i class="icofont icofont-file-pdf"></i>`
                $('#industry_' + (i + 1)).prev().children().children().append(extensionIcon)
            }
            if (certificateExtension[1] == 'png' || certificateExtension[1] == 'jpg' || certificateExtension[1] == 'jpeg') {
                extensionIcon = `<i class="icofont icofont-ui-image"></i>`
                $('#industry_' + (i + 1)).prev().children().children().append(extensionIcon)
            }
        }
    </script>

    <script>
        var certificateLength = $('.building').length
        var extensionIcon = ''
        for (var i = 0; i < certificateLength; i++) {
            var certificateFileName = $('#building_' + (i + 1)).text()
            var certificateExtension = certificateFileName.split('.')
            if (certificateExtension[1] == 'pdf') {
                extensionIcon = `<i class="icofont icofont-file-pdf"></i>`
                $('#building_' + (i + 1)).prev().children().children().append(extensionIcon)
            }
            if (certificateExtension[1] == 'png' || certificateExtension[1] == 'jpg' || certificateExtension[1] == 'jpeg') {
                extensionIcon = `<i class="icofont icofont-ui-image"></i>`
                $('#building_' + (i + 1)).prev().children().children().append(extensionIcon)
            }
        }
    </script>

    <script>
        var certificateLength = $('.quality').length
        var extensionIcon = ''
        for (var i = 0; i < certificateLength; i++) {
            var certificateFileName = $('#quality_' + (i + 1)).text()
            var certificateExtension = certificateFileName.split('.')
            if (certificateExtension[1] == 'pdf') {
                extensionIcon = `<i class="icofont icofont-file-pdf"></i>`
                $('#quality_' + (i + 1)).prev().children().children().append(extensionIcon)
            }
            if (certificateExtension[1] == 'png' || certificateExtension[1] == 'jpg' || certificateExtension[1] == 'jpeg') {
                extensionIcon = `<i class="icofont icofont-ui-image"></i>`
                $('#quality_' + (i + 1)).prev().children().children().append(extensionIcon)
            }
        }
    </script>

{% endblock %}
        